function __sZZZZZ(parent){hZZ.iZZ(this,parent,true);_pZZ.iZZ(this);this.owner=null;this.owner_rating=null;this.choose_colour=false;this.challenge_colour=_____d;this.challenge_type=CZ;this.owner_rematch_ready=false;this.guest_rematch_ready=false;this.type=YZ;this.variant=_aZ;this.subvariant=null;this.score_owner=0;this.score_guest=0;this.event_type=HZ;this.event=null;this.fen=null;this.timing_initial=600;this.timing_increment=0;this.timing_style=__M;this.timing_overtime=false;this.timing_overtime_cutoff=40;this.timing_overtime_increment=600;this.alternate_colours=true;this.chess960_randomise_mode=KZ;this.permissions_watch=__i;this.permissions_play=__i;this.rated=true;this.game_in_progress=false;this.mtime_last_update=0;this.__tZZZZZ=true;this.update_row=["owner","owner_rating","choose_colour","challenge_type","challenge_colour","owner_rematch_ready","guest_rematch_ready","type","variant","subvariant","score_owner","score_guest","event_type","event","fen","timing_initial","timing_increment","timing_style","timing_overtime","timing_overtime_cutoff","timing_overtime_increment","alternate_colours","chess960_randomise_mode","permissions_watch","permissions_play","rated","game_in_progress"];this.sZZ=null;this.___wZZZZ=true;this._yZZZ=false;this.__uZZZZZ=false;this.__vZZZZZ={};this.__wZZZZZ={};this.__xZZZZZ={};this.___p=null;this.__yZZZZZ=[];this.__zZZZZZ={};this.__AZZZZZ=[];this.___gZZZZ=null;this.__BZZZZZ=true;this.__CZZZZZ=null;this.__DZZZZZ=null;this.__EZZZZZ=null;this.__FZZZZZ=false;this.__GZZZZZ=false;this.__HZZZZZ=null;this.__IZZZZZ();this.cZZZ();this.__VZZ();}
__sZZZZZ.prototype.__VZZ=function(){this.__JZZZZZ=new h(this);this.___m=new h(this);this._DZZZ=new h(this);this._FZZZ=new h(this);this._EZZZ=new h(this);this.__KZZZZZ=new h(this);this.__LZZZZZ=new h(this);this._wZZ=new h(this);}
__sZZZZZ.prototype.__MZZZZZ=function(){switch(this.type){case XZ:{this.__NZZZZZ=2;this.__OZZZZZ={__PZZZZZ:0,__QZZZZZ:1};break;}
default:{this.__NZZZZZ=1;this.__OZZZZZ={__PZZZZZ:0};break;}}}
__sZZZZZ.prototype.__gZZ=function(){_.j.____f._zZZ(this,function(__hZZ){__hZZ.____L(this,__X,{"id":this.sZZ,"mtime_last_update":this.mtime_last_update});});_.j.____g._zZZ(this,function(__hZZ){var data=__hZZ.____N(this);if(data!==null){this.__kZZZZZ(data);this.__hZZ(data);this.mtime_last_update=data["mtime_last_update"];}});}
__sZZZZZ.prototype.__IZZZZZ=function(){this.__RZZZZZ={___UZ:new lZZ(this,function(){return this.__SZZZZZ;},function(value){this.__OZZZZZ.__PZZZZZ=value;if(this.type===XZ){this.__OZZZZZ.__QZZZZZ=_$ZZZ.______K(value);}
this.__SZZZZZ=value;this.__TZZZZZ();}),___VZ:new lZZ(this,function(game_id){if(!_sZ(game_id)){game_id=this.__SZZZZZ;}
return this.__UZZZZZ[game_id];},function(value,game_id){if(!_sZ(game_id)){game_id=this.__SZZZZZ;}
this.__VZZZZZ[game_id].__PZZZZZ=value;this.__VZZZZZ[game_id]._______H=_$ZZZ._RZZZ(value);this.__UZZZZZ[game_id]=value;this.__TZZZZZ();})};}
__sZZZZZ.prototype.cZZZ=function(){this.___bZZ=new lZZ(this,function(){return this.owner;},function(value){this.owner=value;this.__WZZZZZ();});this.CZZZZZZ=new lZZ(this,function(){return this.choose_colour;},function(value){this.choose_colour=value;});this.__XZZZZZ=new lZZ(this,function(){return this.challenge_type;},function(value){this.challenge_type=value;});this._cZ=new lZZ(this,function(){return this.type;},function(value){if(!this._yZZZ){this.type=value;}});this.___hZZ=new lZZ(this,function(){return this.variant;},function(value){this.variant=value;this.__YZZZZZ.__vZZZZ.NZZ.BZZ(value);});this.___iZZ=new lZZ(this,function(){return this.subvariant;},function(value){this.subvariant=value;this.__YZZZZZ.__wZZZZ.NZZ.BZZ(value);});this.__ZZZZZZ=new lZZ(this,function(){return this.score_owner;},function(value){this.score_owner=value;this.____JZZZ();});this._$ZZZZZZ=new lZZ(this,function(){return this.score_guest;},function(value){this.score_guest=value;this.____JZZZ();});this.___zZZ=new lZZ(this,function(){return this.event_type;});this.h=new lZZ(this,function(){return this.event;},function(value){this.event=value;this.mZZ();});this._WZZZ=new lZZ(this,function(){return this.fen;},function(value){this.fen=value;this.mZZ();});this.___tZZ=new lZZ(this,function(){return this.timing_initial;},function(value){this.timing_initial=value;this.__YZZZZZ.__yZZZZ.______u.BZZ(value);});this.___uZZ=new lZZ(this,function(){return this.timing_increment;},function(value){this.timing_increment=value;this.__YZZZZZ.__yZZZZ.______v.BZZ(value);});this.___vZZ=new lZZ(this,function(){return this.timing_style;},function(value){this.timing_style=value;this.__YZZZZZ.__yZZZZ._rZ.BZZ(value);});this.___wZZ=new lZZ(this,function(){return this.timing_overtime;},function(value){this.timing_overtime=value;this.__YZZZZZ.__yZZZZ._______R.BZZ(value);});this.___xZZ=new lZZ(this,function(){return this.timing_overtime_cutoff;},function(value){this.timing_overtime_cutoff=value;this.__YZZZZZ.__yZZZZ._______T.BZZ(value);});this.___yZZ=new lZZ(this,function(){return this.timing_overtime_increment;},function(value){this.timing_overtime_increment=value;this.__YZZZZZ.__yZZZZ._______S.BZZ(value);});this._aZZZZZZ=new lZZ(this,function(){return this.alternate_colours;},function(value){this.alternate_colours=value;this.__YZZZZZ.__AZZZZ.uZZ.BZZ(value);});this._bZZZZZZ=new lZZ(this,function(){return this.chess960_rerandomise_mode;},function(value){this.chess960_rerandomise_mode=value;this.__YZZZZZ.__xZZZZ.NZZ.BZZ(value);});this._cZZZZZZ=new lZZ(this,function(){return this.permissions_watch;},function(value){this.permissions_watch=value;this.__YZZZZZ._dZZZZZZ.NZZ.BZZ(value);});this._eZZZZZZ=new lZZ(this,function(){return this.permissions_play;},function(value){this.permissions_play=value;this.__YZZZZZ._fZZZZZZ.NZZ.BZZ(value);});this.___GZZ=new lZZ(this,function(){return this.rated;},function(value){this.rated=value;this.__YZZZZZ.__zZZZZ.uZZ.BZZ(value);});this._gZZZZZZ=new lZZ(this,function(){return this.game_in_progress;},function(value){this.game_in_progress=value;});this.___xZZZZ=new lZZ(this,function(){return this.mtime_last_update;});this.__sZZZZ=new lZZ(this,function(){return this._yZZZ;});this._hZZZZZZ=new lZZ(this,function(){return(this.___gZZZZ!==null);});}
__sZZZZZ.prototype._iZZZZZZ=function(){this.__VZZZZZ=[];var ______KZ={__PZZZZZ:_____d,__QZZZZZ:kZZZZ};for(var _jZZZZZZ in this.__OZZZZZ){this.__VZZZZZ[this.__OZZZZZ[_jZZZZZZ]]={__PZZZZZ:______KZ[_jZZZZZZ],_______H:_$ZZZ._RZZZ(______KZ[_jZZZZZZ])};}
this.__SZZZZZ=0;this.__UZZZZZ=[];for(var _jZZZZZZ in this.__OZZZZZ){this.__UZZZZZ[this.__OZZZZZ[_jZZZZZZ]]=______KZ[_jZZZZZZ];}}
__sZZZZZ.prototype._kZZZZZZ=function(){var _____c=[_____d,kZZZZ];var colour;var ___fZZZZ;_.j.____s(function(){for(var game_id=0;game_id<this.__NZZZZZ;game_id++){for(var _____h=0;_____h<_____c.length;_____h++){colour=_____c[_____h];if(!(game_id in this.__yZZZZZ)){this.__yZZZZZ[game_id]=[];}
___fZZZZ=new _lZZZZZZ(this,game_id,colour);___fZZZZ.___m._zZZ(this,function(data,sender){var username=sender.__pZZ.__wZ();var _mZZZZZZ=(sender===this.___gZZZZ);if(_mZZZZZZ){if(username!==_.a.___GZ.__pZZ){this.___gZZZZ=null;}}
else{if(username===_.a.___GZ.__pZZ){this._nZZZZZZ(sender);}}
if(this._yZZZ){if(sender===this.___gZZZZ||_mZZZZZZ){this._oZZZZZZ();this._pZZZZZZ();this._qZZZZZZ();this.__TZZZZZ();}
this._rZZZZZZ._sZZZZZZ[sender.___UZ][sender.___VZ]._DZZZZZ.__pZZ.BZZ(username);if(data._tZZZZZZ!==username){this._rZZZZZZ._sZZZZZZ[sender.___UZ][sender.___VZ]._DZZZZZ._UZZZZZ(this.type,this.variant,______w.______C(this.timing_style,this.timing_initial,this.timing_increment,this.timing_overtime,this.timing_overtime_increment,this.timing_overtime_cutoff));}
this._uZZZZZZ();this._vZZZZZZ();}
if(this.challenge_type===DZ){this._wZZZZZZ();}
this.__JZZZZZ.t();});this.__yZZZZZ[game_id][colour]=___fZZZZ;}}},this);}
__sZZZZZ.prototype.__kZZZZZ=function(___p){this.___p=___p;var __PZZ;for(var O=0;O<this.update_row.length;O++){__PZZ=this.update_row[O];this[__PZZ]=___p[__PZZ];}}
__sZZZZZ.prototype.__hZZ=function(___p){if(this.challenge_type===CZ){var _xZZZZZZ=["timing_initial","timing_increment","timing_style","timing_overtime","timing_overtime_cutoff","timing_overtime_increment"];var _yZZZZZZ=false;var __PZZ;for(var O=0;O<_xZZZZZZ.length;O++){__PZZ=_xZZZZZZ[O];if(___p[__PZZ]!==this[__PZZ]){_yZZZZZZ=true;break;}}
if(_yZZZZZZ){this._zZZZZZZ();}}
if(this.game_in_progress&&!this.__uZZZZZ){for(var gid in this.__zZZZZZ){this.__zZZZZZ[gid]._DZZ();}
for(var _jZZZZZZ in this._AZZZZZZ._BZZZZZZ){this._AZZZZZZ._BZZZZZZ[_jZZZZZZ]._HZZZ._DZZ();}
this._CZZZZZZ();this.__uZZZZZ=true;}
if(!this.game_in_progress){this.__uZZZZZ=false;}
this._DZZZZZZ();this.__WZZZZZ();this._uZZZZZZ();this._EZZZZZZ();if(this.challenge_type===CZ){this._oZZZZZZ();}
else if(this.challenge_type===DZ){var _FZZZZZZ=(this.owner===_.a.___GZ.__pZZ);var _GZZZZZZ={__PZZZZZ:_FZZZZZZ?this.owner_rematch_ready:this.guest_rematch_ready,_______H:_FZZZZZZ?this.guest_rematch_ready:this.owner_rematch_ready};if(_GZZZZZZ._______H&&!this.__GZZZZZ&&!this.game_in_progress&&!this.__tZZZZZ){var _HZZZZZZ=this.__yZZZZZ[this.___gZZZZ.___UZ][_$ZZZ._RZZZ(this.___gZZZZ.___VZ)];this.__GZZZZZ=true;this._IZZZZZZ.____OZZ("<b>"+_HZZZZZZ.__pZZ.__wZ()+" has offered you a rematch.</b>");}
this.__GZZZZZ=_GZZZZZZ._______H;this.__FZZZZZ=_GZZZZZZ.__PZZZZZ;this._wZZZZZZ();this.____JZZZ();}
this.___m.t();this.__tZZZZZ=false;}
__sZZZZZ.prototype._JZZZZZZ=function(id){this.sZZ=id;____v.____T(G("/xhr/load_table.php"),function(____x){if(____x!==false){this.__kZZZZZ(____x);this.___wZZZZ=false;this.__MZZZZZ();this._kZZZZZZ();this._iZZZZZZ();this.nZZ();this.__hZZ(____x);this.__gZZ();this._CZZZZZZ();this._KZZZZZZ();this._LZZZZZZ();this._EZZZ.t();}
else{this._MZZZZZZ();this.__KZZZZZ.t();}},{"id":id},this);}
__sZZZZZ.prototype.__QZZ=function(){var self=this;if(this.___wZZZZ){var ___p={"type":this.type,"variant":this.variant,"subvariant":this.subvariant,"fen":this.fen,"timing_initial":this.timing_initial,"timing_increment":this.timing_increment,"timing_delay":this.timing_delay,"timing_style":this.timing_style,"alternate_colours":this.alternate_colours,"chess960_rerandomise_mode":this.chess960_rerandomise_mode,"permissions_watch":this.permissions_watch,"permissions_play":this.permissions_play,"rated":this.rated};____v.____T(G("/xhr/create_table.php"),function(____x){if(____x!==false){this.___p=___p;this.sZZ=____x;this.___wZZZZ=false;this.__MZZZZZ();this._kZZZZZZ();this._iZZZZZZ();this.nZZ();this._KZZZZZZ();this._LZZZZZZ();this.__gZZ();this._EZZZ.t();}},___p,this);}
else{var __hZZ={};var __PZZ;for(var O=0;O<this.update_row.length;O++){__PZZ=this.update_row[O];if(this[__PZZ]!==this.___p[__PZZ]||___tZ(__PZZ,arguments)){__hZZ[__PZZ]=this[__PZZ];}}
if(!____O(__hZZ)){__hZZ["id"]=this.sZZ;____v.____X(G("/xhr/update_table.php"),__hZZ);}}}
__sZZZZZ.prototype.nZZ=function(){var self=this;var _KZZZ;var _NZZZZZZ=(this.challenge_type===DZ);this._OZZZZZZ=180;this._PZZZZZZ=8;this._QZZZZZZ=7;this._RZZZZZZ=this._OZZZZZZ-(this._PZZZZZZ+this._QZZZZZZ);this._SZZZZZZ=UZZ(this.pZZ);this._TZZZZZZ=UZZ(this._SZZZZZZ);this.nZZZ=UZZ(this._SZZZZZZ);v._rZ(this.nZZZ,{cssFloat:"left",paddingLeft:1});v._rZ(this._TZZZZZZ,{cssFloat:"right"});this._UZZZZZZ=wZZ(this._TZZZZZZ);v._rZ(this._UZZZZZZ,{cursor:"default"});v._WZ(this._UZZZZZZ,"table_util_links");___X(this._SZZZZZZ);this.__YZZZZZ=new __uZZZZ(this.nZZZ);v._rZ(this._SZZZZZZ,{margin:"0 0px",borderBottom:"1px solid #cdcdcd",padding:"7px 5px 4px 5px",backgroundImage:v._CZ(G("/img/table_panel_bg.png")),backgroundPosition:"left bottom",backgroundRepeat:"repeat-x"});this._VZZZZZZ=UZZ(this.pZZ);this._WZZZZZZ=UZZ(this._VZZZZZZ);v._rZ(this._VZZZZZZ,{paddingTop:6,paddingBottom:6});this.___a={FZZZZZ:UZZ(this._WZZZZZZ),history:UZZ(this._WZZZZZZ),bughouse_other:UZZ(this._WZZZZZZ)};this._XZZZZZZ={FZZZZZ:UZZ(this.___a.FZZZZZ),history:UZZ(this.___a.history),bughouse_other:UZZ(this.___a.bughouse_other)};v._rZ(this.___a.history,{width:this._OZZZZZZ});var ___i;for(var _F in this.___a){___i=this.___a[_F];v._rZ(___i,{cssFloat:"left"});}
___X(this._WZZZZZZ);this._YZZZZZZ={__PZZZZZ:this._XZZZZZZ.FZZZZZ,__QZZZZZ:this._XZZZZZZ.bughouse_other};this._ZZZZZZZ={};for(var _F in this._YZZZZZZ){this._ZZZZZZZ[_F]={$ZZZZZZZ:UZZ(this._YZZZZZZ[_F]),__SZZ:UZZ(this._YZZZZZZ[_F]),aZZZZZZZ:UZZ(this._YZZZZZZ[_F]),bZZZZZZZ:UZZ(this._YZZZZZZ[_F])};}
this.cZZZZZZZ={};this.cZZZZZZZ._______H=UZZ(this._XZZZZZZ.history);this.dZZZZZZZ=UZZ(this._XZZZZZZ.history);this.eZZZZZZZ=UZZ(this._XZZZZZZ.history);this.fZZZZZZZ=UZZ(this._XZZZZZZ.history);this.gZZZZZZZ=UZZ(this._XZZZZZZ.history);this.hZZZZZZZ=UZZ(this._XZZZZZZ.history);this.cZZZZZZZ.__PZZZZZ=UZZ(this._XZZZZZZ.history);this.iZZZZZZZ={__PZZZZZ:this._ZZZZZZZ.__PZZZZZ.__SZZ,__QZZZZZ:this._ZZZZZZZ.__QZZZZZ.__SZZ};this.jZZZZZZZ={__PZZZZZ:{__PZZZZZ:this._ZZZZZZZ.__PZZZZZ.aZZZZZZZ,_______H:this._ZZZZZZZ.__PZZZZZ.$ZZZZZZZ},__QZZZZZ:{__PZZZZZ:this._ZZZZZZZ.__QZZZZZ.aZZZZZZZ,_______H:this._ZZZZZZZ.__QZZZZZ.$ZZZZZZZ}};this.kZZZZZZZ={};this.lZZZZZZZ={};this.mZZZZZZZ={};this.nZZZZZZZ={};this.oZZZZZZZ={};this.pZZZZZZZ={};var qZZZZZZZ={__PZZZZZ:"left",__QZZZZZ:"right"};var rZZZZZZZ;var game_id;this._AZZZZZZ={_BZZZZZZ:{},sZZZZZZZ:{}};this._rZZZZZZ={_BZZZZZZ:[],_sZZZZZZ:[]};var history,__SZZ,bZZZZZZZ,____UZ,tZZZZZZZ,uZZZZZZZ;for(var _jZZZZZZ in this.__OZZZZZ){game_id=this.__OZZZZZ[_jZZZZZZ];rZZZZZZZ=this.iZZZZZZZ[_jZZZZZZ];this._AZZZZZZ._BZZZZZZ[_jZZZZZZ]={};this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ]={};this._rZZZZZZ._BZZZZZZ[game_id]={};this._rZZZZZZ._sZZZZZZ[game_id]=[];this.lZZZZZZZ[_jZZZZZZ]=_hZ("*div");this.kZZZZZZZ[_jZZZZZZ]=_hZ("*div");this.mZZZZZZZ[_jZZZZZZ]={};this.nZZZZZZZ[_jZZZZZZ]={};this.oZZZZZZZ[_jZZZZZZ]={};if(this.type===XZ){this.pZZZZZZZ[_jZZZZZZ]={};}
for(var vZZZZZZZ in this.__VZZZZZ[game_id]){this.oZZZZZZZ[_jZZZZZZ][vZZZZZZZ]=_hZ("*div");}
this.jZZZZZZZ[_jZZZZZZ]._______H.appendChild(this.oZZZZZZZ[_jZZZZZZ]._______H);rZZZZZZZ.appendChild(this.lZZZZZZZ[_jZZZZZZ]);this.jZZZZZZZ[_jZZZZZZ].__PZZZZZ.appendChild(this.oZZZZZZZ[_jZZZZZZ].__PZZZZZ);var wZZZZZZZ;var colour;for(var vZZZZZZZ in this.__VZZZZZ[game_id]){colour=this.__VZZZZZ[game_id][vZZZZZZZ];this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][vZZZZZZZ]={};this._rZZZZZZ._sZZZZZZ[game_id][colour]={};wZZZZZZZ=this.oZZZZZZZ[_jZZZZZZ][vZZZZZZZ];this.mZZZZZZZ[_jZZZZZZ][vZZZZZZZ]=UZZ(wZZZZZZZ);this.nZZZZZZZ[_jZZZZZZ][vZZZZZZZ]=UZZ(wZZZZZZZ);___X(wZZZZZZZ);tZZZZZZZ=new _DZZZZZ(this.mZZZZZZZ[_jZZZZZZ][vZZZZZZZ],game_id,!_NZZZZZZ);this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][vZZZZZZZ]._DZZZZZ=tZZZZZZZ;this._rZZZZZZ._sZZZZZZ[game_id][colour]._DZZZZZ=tZZZZZZZ;tZZZZZZZ.___VZ.BZZ(this.__VZZZZZ[game_id][vZZZZZZZ]);tZZZZZZZ._MZZZZZ.BZZ(_NZZZZZZ);tZZZZZZZ._JZZZZZ._zZZ(this,function(data,sender){self._JZZZZZ(sender.___UZ.__wZ(),sender.___VZ.__wZ());});uZZZZZZZ=new _fZZZZZ(this.nZZZZZZZ[_jZZZZZZ][vZZZZZZZ]);this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][vZZZZZZZ]._fZZZZZ=uZZZZZZZ;this._rZZZZZZ._sZZZZZZ[game_id][colour]._fZZZZZ=uZZZZZZZ;uZZZZZZZ._xZZZZZ.BZZ(0);if(this.type===XZ){this.pZZZZZZZ[_jZZZZZZ][vZZZZZZZ]=UZZ(this.cZZZZZZZ[vZZZZZZZ]);v._rZ(this.pZZZZZZZ[_jZZZZZZ][vZZZZZZZ],{cssFloat:qZZZZZZZ[_jZZZZZZ]});xZZZZZZZ=new _____UZ(this.pZZZZZZZ[_jZZZZZZ][vZZZZZZZ]);this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][vZZZZZZZ]._____UZ=xZZZZZZZ;this._rZZZZZZ._sZZZZZZ[game_id][colour]._____UZ=xZZZZZZZ;}}
____UZ=new _____T();____UZ.___UZ=game_id;this._rZZZZZZ._BZZZZZZ[game_id]._____T=____UZ;____UZ.___m._zZZ(this,function(data,sender){this._rZZZZZZ._sZZZZZZ[sender.___UZ][_____d]._fZZZZZ._____U.BZZ(sender._____U[_____d]);this._rZZZZZZ._sZZZZZZ[sender.___UZ][kZZZZ]._fZZZZZ._____U.BZZ(sender._____U[kZZZZ]);});__SZZ=new _fZZZ(this.lZZZZZZZ[_jZZZZZZ]);__SZZ.fZZ._zZZ(this,function(){this.mZZ();});this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].__WZZ=__SZZ;this._rZZZZZZ._BZZZZZZ[game_id].__WZZ=__SZZ;bZZZZZZZ=new ____GZZ(this._ZZZZZZZ[_jZZZZZZ].bZZZZZZZ);this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].yZZZZZZZ=bZZZZZZZ;this._rZZZZZZ._BZZZZZZ[game_id].yZZZZZZZ=bZZZZZZZ;this.dZZZZZZZ.appendChild(this.kZZZZZZZ[_jZZZZZZ]);history=new ____kZZZ(this.kZZZZZZZ[_jZZZZZZ]);history.RZZ.BZZ(this._RZZZZZZ);this._AZZZZZZ._BZZZZZZ[_jZZZZZZ]._HZZZ=history;this._rZZZZZZ._BZZZZZZ[game_id]._HZZZ=history;for(var vZZZZZZZ in this.nZZZZZZZ[_jZZZZZZ]){v._rZ(this.nZZZZZZZ[_jZZZZZZ][vZZZZZZZ],{cssFloat:"right"});}
for(var vZZZZZZZ in this.mZZZZZZZ[_jZZZZZZ]){v._rZ(this.mZZZZZZZ[_jZZZZZZ][vZZZZZZZ],{cssFloat:"left"});}}
for(var vZZZZZZZ in this.cZZZZZZZ){___X(this.cZZZZZZZ[vZZZZZZZ]);this.cZZZZZZZ[vZZZZZZZ].name="BGH_PCS_DIV";}
v._rZ(this.gZZZZZZZ,{paddingTop:5});v._rZ(this.hZZZZZZZ,{paddingTop:5});this.cZZZZ=new cZZZZ(this.fZZZZZZZ);this.cZZZZ.RZZ.BZZ(this._RZZZZZZ);this.XZZZZZZ=new XZZZZZZ(this.eZZZZZZZ);this.XZZZZZZ.DZZ();this.___yZZZ=new ___yZZZ(this.gZZZZZZZ);if(this.___gZZZZ!==null){this._oZZZZZZ();}
this.___HZZ=[null,null];if(this.type===YZ){var zZZZZZZZ=new ____xZZZ(this.hZZZZZZZ);this.___HZZ=[zZZZZZZZ,zZZZZZZZ];}
this._IZZZZZZ=this._AZZZZZZ._BZZZZZZ.__PZZZZZ.yZZZZZZZ;this._IZZZZZZ.____OZZ("Table chat #"+this.sZZ);this.AZZZZZZZ=null;if(this.type===XZ){this.AZZZZZZZ=this._AZZZZZZ._BZZZZZZ.__QZZZZZ.yZZZZZZZ;this.AZZZZZZZ.____OZZ("Team chat");this.___yZZZ.___KZZZ.HZZ.BZZ(false);this.___yZZZ.___JZZZ.HZZ.BZZ(false);this.___yZZZ.___HZZZ.HZZ.BZZ(false);this.___yZZZ.___IZZZ.HZZ.BZZ(false);this._AZZZZZZ._BZZZZZZ.__QZZZZZ._HZZZ.DZZ();v._rZ(this.pZZZZZZZ.__PZZZZZ._______H,{marginBottom:5});for(var vZZZZZZZ in this._AZZZZZZ.sZZZZZZZ.__QZZZZZ){this._AZZZZZZ.sZZZZZZZ.__QZZZZZ[vZZZZZZZ]._____UZ.____dZZ.BZZ(30);}
this._AZZZZZZ.sZZZZZZZ.__PZZZZZ._______H._____UZ.____dZZ.BZZ(30);}
if(this.challenge_type===DZ){this.___yZZZ.___zZZZ.HZZ.BZZ(false);}
this._AZZZZZZ._BZZZZZZ.__PZZZZZ.__WZZ.___dZZZ.___kZZZ.kZZ._zZZ(this,function(){this.BZZZZZZZ();});this.CZZZZZZZ();this.DZZZZZZZ();this._yZZZ=true;this.mZZ();this.__TZZZZZ();this.__WZZZZZ();this._DZZZ.t();}
__sZZZZZ.prototype.mZZ=function(){if(this._yZZZ){var __SZZ=this._AZZZZZZ._BZZZZZZ.__PZZZZZ.__WZZ;var _____aZ=__SZZ.__FZZ.__wZ();var ______FZ=__SZZ._____lZZ.__wZ();var ______GZ=__SZZ._____kZZ.__wZ();var EZZZZZZZ=this._AZZZZZZ.sZZZZZZZ.__PZZZZZ._______H._DZZZZZ.__$ZZZZ.__wZ();v._rZ(this._XZZZZZZ.history,{paddingTop:EZZZZZZZ,paddingLeft:this._PZZZZZZ,paddingRight:this._QZZZZZZ});for(var _jZZZZZZ in this.__OZZZZZ){v._rZ(this.oZZZZZZZ[_jZZZZZZ].__PZZZZZ,{paddingTop:3});__SZZ=this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].__WZZ;var FZZZZZZZ=__SZZ.___L.__wZ();for(var vZZZZZZZ in this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ]){v._rZ(this.oZZZZZZZ[_jZZZZZZ][vZZZZZZZ],{width:FZZZZZZZ});}
this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].yZZZZZZZ.RZZ.BZZ(FZZZZZZZ);}
this.__WZZZZZ();var GZZZZZZZ={__PZZZZZ:0,__QZZZZZ:0};for(var _jZZZZZZ in this.__OZZZZZ){GZZZZZZZ[_jZZZZZZ]=this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].__WZZ.___L.__wZ();v._rZ(this._YZZZZZZ[_jZZZZZZ],{width:GZZZZZZZ[_jZZZZZZ]});}
var ___k=this._OZZZZZZ+GZZZZZZZ.__PZZZZZ+GZZZZZZZ.__QZZZZZ;v._rZ(this._WZZZZZZ,{width:___k,margin:"0 auto"});this.fZZ.t();}}
__sZZZZZ.prototype.__TZZZZZ=function(){if(this._yZZZ){var game_id,colour;for(var _jZZZZZZ in this.__OZZZZZ){game_id=this.__OZZZZZ[_jZZZZZZ];this._rZZZZZZ._BZZZZZZ[game_id].__WZZ=this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].__WZZ;this._rZZZZZZ._BZZZZZZ[game_id]._HZZZ=this._AZZZZZZ._BZZZZZZ[_jZZZZZZ]._HZZZ;for(var HZZZZZZZ in this.__VZZZZZ[game_id]){colour=this.__VZZZZZ[game_id][HZZZZZZZ];this._rZZZZZZ._sZZZZZZ[game_id][colour]._____UZ=this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][HZZZZZZZ]._____UZ;this._rZZZZZZ._sZZZZZZ[game_id][colour]._DZZZZZ=this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][HZZZZZZZ]._DZZZZZ;this._rZZZZZZ._sZZZZZZ[game_id][colour]._fZZZZZ=this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][HZZZZZZZ]._fZZZZZ;}}
var _____c=[_____d,kZZZZ];var colour;var username;var details;var tZZZZZZZ,IZZZZZZZ;for(var game_id=0;game_id<this.__yZZZZZ.length;game_id++){for(var _____h=0;_____h<_____c.length;_____h++){colour=_____c[_____h];username=this.__yZZZZZ[game_id][colour].__pZZ.__wZ();details=null;tZZZZZZZ=this._rZZZZZZ._sZZZZZZ[game_id][colour]._DZZZZZ;tZZZZZZZ.__pZZ.BZZ(username);tZZZZZZZ.___VZ.BZZ(colour);tZZZZZZZ.___UZ.BZZ(game_id);if(username!==null){for(var JZZZZZZZ in this._AZZZZZZ.sZZZZZZZ){for(var KZZZZZZZ in this._AZZZZZZ.sZZZZZZZ[JZZZZZZZ]){IZZZZZZZ=this._AZZZZZZ.sZZZZZZZ[JZZZZZZZ][KZZZZZZZ]._DZZZZZ;if(IZZZZZZZ.__pZZ.__wZ()===username&&IZZZZZZZ.___VZ.__wZ()===colour){details={_KZZZZZ:IZZZZZZZ._KZZZZZ.__wZ()};break;}}}}
if(details===null){tZZZZZZZ._UZZZZZ(this.type,this.variant,______w.______C(this.timing_style,this.timing_initial,this.timing_increment,this.timing_overtime,this.timing_overtime_increment,this.timing_overtime_cutoff));}
else{tZZZZZZZ._KZZZZZ.BZZ(details._KZZZZZ);}}}
if(this.challenge_type===DZ){this.____JZZZ();}
var history;var LZZZZZZZ=null;if(this.type===XZ&&this.__uZZZZZ){for(var _jZZZZZZ in this._AZZZZZZ._BZZZZZZ){history=this._AZZZZZZ._BZZZZZZ[_jZZZZZZ]._HZZZ;if(this.__CZZZZZ!==null&&history===this.__CZZZZZ._HZZZ){history.EZZ();LZZZZZZZ=history;}
else{history.DZZ();}}}
var game_id;for(var _jZZZZZZ in this.__OZZZZZ){game_id=this.__OZZZZZ[_jZZZZZZ];this._rZZZZZZ._BZZZZZZ[game_id].__WZZ._QZZZ.BZZ(this.__RZZZZZ.___VZ.__wZ(game_id));}
if(this.type===XZ&&this.__uZZZZZ){var FZZZZZ;for(game_id=0;game_id<this.__AZZZZZ.length;game_id++){FZZZZZ=this.__AZZZZZ[game_id];FZZZZZ.LZZZZ(this._rZZZZZZ._BZZZZZZ[game_id].__WZZ);}
this.MZZZZZZZ();}
if(LZZZZZZZ!==null){this.cZZZZ._HZZZ=LZZZZZZZ;}
else{this.cZZZZ._HZZZ=this._AZZZZZZ._BZZZZZZ.__PZZZZZ._HZZZ;}
for(var O=0;O<_____c.length;O++){colour=_____c[O];if(this.___HZZ[colour]!==null){this.___HZZ[colour]._QZZZ.BZZ(this.__UZZZZZ[this.__SZZZZZ]);}}}}
__sZZZZZ.prototype._MZZZZZZ=function(){var __kZ=UZZ(this.pZZ);v._rZ(__kZ,{fontSize:"1.1em",textAlign:"center",color:"#5f5f5f",padding:"1em"});__kZ.innerHTML="This table no longer exists in the database.  ";var NZZZZZZZ=_hZ("*a");__kZ.appendChild(NZZZZZZZ);NZZZZZZZ.innerHTML="Close tab";NZZZZZZZ.href="javascript:void(0)";v._rZ(NZZZZZZZ,{color:"#4F87AF"});v.w(NZZZZZZZ,"click",function(){this._wZZ.t();},this);}
__sZZZZZ.prototype._pZZZZZZ=function(){if(this.__OZZZZZ.__PZZZZZ in this.__AZZZZZ){this.__CZZZZZ=this.__AZZZZZ[this.__OZZZZZ.__PZZZZZ];}
else{this.__CZZZZZ=null;}}
__sZZZZZ.prototype._JZZZZZ=function(game_id,colour){this.__yZZZZZ[game_id][colour]._JZZZZZ(_.a.___GZ.__pZZ);}
__sZZZZZ.prototype._nZZZZZZ=function(___fZZZZ){this.___gZZZZ=___fZZZZ;this.__RZZZZZ.___UZ.BZZ(___fZZZZ.___UZ);this.__RZZZZZ.___VZ.BZZ(___fZZZZ.___VZ,___fZZZZ.___UZ);if(this.type===XZ){this.__RZZZZZ.___VZ.BZZ(this.__VZZZZZ[this.__SZZZZZ]._______H,this.__OZZZZZ.__QZZZZZ);}}
__sZZZZZ.prototype.OZZZZZZZ=function(){if(this.___gZZZZ!==null){this.___gZZZZ.OZZZZZZZ();}}
__sZZZZZ.prototype.g=function(ready){if(this.___gZZZZ!==null){this.___gZZZZ.PZZZZZZZ(ready);}}
__sZZZZZ.prototype.__WZZZZZ=function(){if(this._yZZZ){var _FZZZZZZ=(this.owner===_.a.___GZ.__pZZ);var QZZZZZZZ=true;var FZZZZZ;for(var gid in this.__zZZZZZ){FZZZZZ=this.__zZZZZZ[gid];if(FZZZZZ.___eZZ===VZ){QZZZZZZZ=false;break;}}
var ___A=(_FZZZZZZ&&QZZZZZZZ);var RZZZZZZZ=(this.challenge_type===CZ);var SZZZZZZZ=[this.__YZZZZZ.__vZZZZ,this.__YZZZZZ.__xZZZZ,this.__YZZZZZ.__wZZZZ,this.__YZZZZZ.__AZZZZ,this.__YZZZZZ.__zZZZZ,this.__YZZZZZ.__yZZZZ];if(this.challenge_type===DZ){for(var _F in SZZZZZZZ){SZZZZZZZ[_F].___D.BZZ(false);}}
else{for(var _F in SZZZZZZZ){SZZZZZZZ[_F].___B.BZZ(___A);}}
if(this.variant===_$Z&&RZZZZZZZ){this.__YZZZZZ.__xZZZZ.EZZ();}
else{this.__YZZZZZ.__xZZZZ.DZZ();}
var TZZZZZZZ=false;this.__YZZZZZ.__wZZZZ.DZZ();this.__YZZZZZ.__wZZZZ.aZ();for(var code in _bZ[tZ]){if(_bZ[tZ][code]._eZ===this.variant){this.__YZZZZZ.__wZZZZ._P(code,_bZ[tZ][code]._fZ);TZZZZZZZ=true;}
else if(_bZ[tZ][code]._eZ===null){this.__YZZZZZ.__wZZZZ._P(code,_bZ[tZ][code]._fZ);}}
if(TZZZZZZZ&&RZZZZZZZ){this.__YZZZZZ.__wZZZZ.EZZ();}
this.__YZZZZZ.__vZZZZ.NZZ.BZZ(this.variant);this.__YZZZZZ.__wZZZZ.NZZ.BZZ(this.subvariant);this.__YZZZZZ.__AZZZZ.uZZ.BZZ(this.alternate_colours);this.__YZZZZZ.__xZZZZ.NZZ.BZZ(this.chess960_randomise_mode);this.__YZZZZZ.__zZZZZ.uZZ.BZZ(this.rated);this.__YZZZZZ.__yZZZZ.______u.BZZ(this.timing_initial);this.__YZZZZZ.__yZZZZ.______v.BZZ(this.timing_increment);this.__YZZZZZ.__yZZZZ._rZ.BZZ(this.timing_style);this.__YZZZZZ.__yZZZZ._______R.BZZ(this.timing_overtime);this.__YZZZZZ.__yZZZZ._______S.BZZ(this.timing_overtime_increment);this.__YZZZZZ.__yZZZZ._______T.BZZ(this.timing_overtime_cutoff);}}
__sZZZZZ.prototype._uZZZZZZ=function(){if(this._yZZZ){var UZZZZZZZ=this._hZZZZZZ.__wZ();var VZZZZZZZ;if(UZZZZZZZ&&this.game_in_progress&&(this.___gZZZZ.___UZ in this.__AZZZZZ)){var FZZZZZ=this.__AZZZZZ[this.___gZZZZ.___UZ];var _$ZZ=FZZZZZ._XZZZ;var WZZZZZZZ=(FZZZZZ._HZZZ.___WZZ.___XZZ._N>0);var _RZZZ=_$ZZZ._RZZZ(this.___gZZZZ.___VZ);if(WZZZZZZZ){_$ZZ=new __YZZ(FZZZZZ._HZZZ.___WZZ.hZZZZZ._WZZZ);}
VZZZZZZZ=(this.___gZZZZ.___VZ===_$ZZ.__ZZZ);this.___yZZZ.___GZZZ.___B.BZZ(true);this.___yZZZ.___HZZZ.___B.BZZ((WZZZZZZZ&&!VZZZZZZZ&&FZZZZZ.___DZZ===null)||(VZZZZZZZ&&FZZZZZ.___DZZ===_RZZZ));this.___yZZZ.___IZZZ.___B.BZZ(WZZZZZZZ&&!VZZZZZZZ);this.___yZZZ.___KZZZ.HZZ.BZZ(FZZZZZ._sZZZZ&&VZZZZZZZ);this.___yZZZ.___JZZZ.HZZ.BZZ(FZZZZZ.___BZZ&&VZZZZZZZ);}
else{this.___yZZZ.___GZZZ.___B.BZZ(false);this.___yZZZ.___HZZZ.___B.BZZ(false);this.___yZZZ.___IZZZ.___B.BZZ(false);this.___yZZZ.___KZZZ.HZZ.BZZ(false);this.___yZZZ.___JZZZ.HZZ.BZZ(false);}
this.___yZZZ.___BZZZ.HZZ.BZZ(UZZZZZZZ);this.___yZZZ.___AZZZ.HZZ.BZZ(UZZZZZZZ);this.___yZZZ.___BZZZ.___B.BZZ(!this.game_in_progress);this.___yZZZ.___AZZZ.___B.BZZ(!this.game_in_progress);}}
__sZZZZZ.prototype.____JZZZ=function(){var _____c=[_____d,kZZZZ];var colour,username,XZZZZZZZ;var game_id=0;for(var _____h=0;_____h<_____c.length;_____h++){colour=_____c[_____h];username=this.__yZZZZZ[game_id][colour].__pZZ.__wZ();XZZZZZZZ=this._rZZZZZZ._sZZZZZZ[game_id][colour]._DZZZZZ;if(username===this.owner){XZZZZZZZ._LZZZZZ.BZZ(this.score_owner);}
else{XZZZZZZZ._LZZZZZ.BZZ(this.score_guest);}}}
__sZZZZZ.prototype.YZZZZZZZ=function(){if(false){this.XZZZZZZ.EZZ();this.XZZZZZZ.YZZZZZZ(this.__CZZZZZ.___lZZ,this.__CZZZZZ.___mZZ);}
else{this.XZZZZZZ.DZZ();}}
__sZZZZZ.prototype._CZZZZZZ=function(){_.j.____s(function(){____v.____T(G("/xhr/load_games.php"),function(____x){if(____x!==false){var ___p,gid,game_id,FZZZZZ;var __SZZ,history,____UZ;for(var O=0;O<____x.length;O++){___p=____x[O];gid=___p["gid"];game_id=___p["game_id"];if(!(gid in this.__zZZZZZ)){____TZ=[this.___HZZ[_____d],this.___HZZ[kZZZZ]];for(var _xZ=0;_xZ<____TZ.length;_xZ++){if(____TZ[_xZ]!==null){____TZ[_xZ].aZ();}}
____UZ=this._rZZZZZZ._BZZZZZZ[game_id]._____T;__SZZ=this._rZZZZZZ._BZZZZZZ[game_id].__WZZ;history=this._rZZZZZZ._BZZZZZZ[game_id]._HZZZ;history.aZ();history._DZZ();____UZ.Reset();FZZZZZ=new ___iZZZZ(this,gid,__SZZ,history,____TZ,____UZ);FZZZZZ.___MZZ.BZZ(__TZZ.___KZZ);this.__zZZZZZ[gid]=FZZZZZ;this.__AZZZZZ[game_id]=FZZZZZ;FZZZZZ._EZZZ._zZZ(this,function(data,sender){this.__WZZZZZ();this._qZZZZZZ();this._pZZZZZZ();this._wZZZZZZ();this.MZZZZZZZ();this.YZZZZZZZ();this.__TZZZZZ();this.___m.t();return true;});FZZZZZ._rZZZ._zZZ(this,function(data,sender){this._wZZZ(sender);return true;});FZZZZZ.___m._zZZ(this,function(data,sender){this.ZZZZZZZZ(sender);});FZZZZZ._JZZZ._zZZ(this,function(data,sender){this.__vZZZZZ[sender.___eZZZZ]=false;this.ZZZZZZZZ(sender);});FZZZZZ._EZZZ._zZZ(this,function(data,sender){sender._HZZZ.___m._zZZ(this,(function(FZZZZZ){return function(data,sender){this.ZZZZZZZZ(FZZZZZ);};})(sender));});}}}},{"table":this.sZZ,"games":this.__NZZZZZ},this);},this);}
__sZZZZZ.prototype._KZZZZZZ=function(){this._________=new __bZZ(GZ,this.sZZ);this._________.__eZZ._zZZ(this,function(________$){this._IZZZZZZ.____OZZ("<b>"+________$["user"]+":</b> "+________$["body"]);});this._IZZZZZZ.____HZZ._zZZ(this,function(data){if(___z(data.____RZZ)&&data.____RZZ.length>0){this._IZZZZZZ.____OZZ("<b>"+_.a.___GZ.__pZZ+":</b> "+data.____RZZ);this._________.__iZZ(data.____RZZ);}});}
__sZZZZZ.prototype._LZZZZZZ=function(){if(this.type===XZ){this.AZZZZZZZ.____HZZ._zZZ(this,function(data){if(___z(data.____RZZ)&&data.____RZZ.length>0){this.AZZZZZZZ.____OZZ("<b>"+_.a.___GZ.__pZZ+":</b> "+data.____RZZ);var ________a=null;if(this._hZZZZZZ.__wZ()){var ______K=_$ZZZ.______K(this.___gZZZZ.___UZ);var _RZZZ=_$ZZZ._RZZZ(this.___gZZZZ.___VZ);________a=this.__yZZZZZ[______K][_RZZZ].__pZZ.__wZ();}
if(________a!==null){____v.____X(G("/xhr/team_chat.php"),{"table":this.sZZ,"partner":________a,"message":data.____RZZ});}}});this._vZZZZZZ();}}
__sZZZZZ.prototype.CZZZZZZZ=function(){this.__YZZZZZ.__vZZZZ.LZZ._zZZ(this,function(data){this.variant=data.YZZ;this.__WZZZZZ();this.__QZZ("variant");});this.__YZZZZZ.__xZZZZ.LZZ._zZZ(this,function(data){this.chess960_randomise_mode=data.YZZ;this.__QZZ("chess960_randomise_mode");});this.__YZZZZZ.__wZZZZ.LZZ._zZZ(this,function(data){this.subvariant=data.YZZ;this.__QZZ("subvariant");});this.__YZZZZZ.__zZZZZ.rZZ._zZZ(this,function(data,sender){this.rated=sender.uZZ.__wZ();this.__QZZ("rated");});this.__YZZZZZ.__AZZZZ.rZZ._zZZ(this,function(data,sender){this.alternate_colours=sender.uZZ.__wZ();this.__QZZ("alternate_colours");});this.__YZZZZZ.__yZZZZ._______M._zZZ(this,function(data,sender){this.timing_initial=sender.______u.__wZ();this.timing_increment=sender.______v.__wZ();this.timing_style=sender._rZ.__wZ();this.timing_overtime=sender._______R.__wZ();this.timing_overtime_increment=sender._______S.__wZ();this.timing_overtime_cutoff=sender._______T.__wZ();this._DZZZZZZ();this._zZZZZZZ();this.__QZZ("timing_initial","timing_increment","timing_style","timing_overtime","timing_overtime_increment","timing_overtime_cutoff");});if(this.challenge_type===DZ){this.__YZZZZZ.__AZZZZ.DZZ();}}
__sZZZZZ.prototype.rZZZZ=function(){this.__BZZZZ.__HZZZZ.LZZ._zZZ(this,function(data,sender){for(var _jZZZZZZ in this._AZZZZZZ._BZZZZZZ){this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].__WZZ.____dZZ.BZZ(sender.NZZ.__wZ());}});this.__BZZZZ.__GZZZZ.rZZ._zZZ(this,function(data,sender){for(var _jZZZZZZ in this._AZZZZZZ._BZZZZZZ){this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].__WZZ.__FZZ.BZZ(sender.uZZ.__wZ());}});this.__BZZZZ.__FZZZZ.rZZ._zZZ(this,function(data,sender){for(var gid in this.__zZZZZZ){this.__zZZZZZ[gid].__GZZ.BZZ(sender.uZZ.__wZ());}});this.__BZZZZ.__IZZZZ.LZZ._zZZ(this,function(data,sender){for(var _jZZZZZZ in this._AZZZZZZ._BZZZZZZ){this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].__WZZ.__CZZ.BZZ(sender.NZZ.__wZ());}});}
__sZZZZZ.prototype.DZZZZZZZ=function(){var self=this;this.___yZZZ.___KZZZ.HZZ.BZZ(false);this.___yZZZ.___JZZZ.HZZ.BZZ(false);this.___yZZZ.___GZZZ.kZZ._zZZ(this,function(){if(this.game_in_progress&&this.___gZZZZ!==null){this.__CZZZZZ.__rZZZZZ();}});this.___yZZZ.___KZZZ.kZZ._zZZ(this,function(){if(this.game_in_progress&&this.___gZZZZ!==null){var gid=this.__AZZZZZ[this.___gZZZZ.___UZ].___eZZZZ;____v.____X(G("/xhr/claim_fiftymove.php"),{"gid":gid});}});this.___yZZZ.___JZZZ.kZZ._zZZ(this,function(){if(this.game_in_progress&&this.___gZZZZ!==null){var gid=this.__AZZZZZ[this.___gZZZZ.___UZ].___eZZZZ;____v.____X(G("/xhr/claim_threefold.php"),{"gid":gid});}});this.___yZZZ.___HZZZ.kZZ._zZZ(this,function(){if(this.game_in_progress&&this.___gZZZZ!==null){var FZZZZZ=this.__AZZZZZ[this.___gZZZZ.___UZ];if(FZZZZZ.___DZZ===_$ZZZ._RZZZ(this.___gZZZZ.___VZ)){____v.____X(G("/xhr/draw_accept.php"),{"gid":FZZZZZ.___eZZZZ});}
else if(FZZZZZ.___DZZ===null){____v.____X(G("/xhr/draw_offer.php"),{"gid":FZZZZZ.___eZZZZ});}}});this.___yZZZ.___IZZZ.kZZ._zZZ(this,function(){if(this.game_in_progress&&this.___gZZZZ!==null){var gid=this.__AZZZZZ[this.___gZZZZ.___UZ].___eZZZZ;____v.____X(G("/xhr/undo_request.php"),{"gid":gid});}});this.___yZZZ.___AZZZ.kZZ._zZZ(this,function(data){if(this._hZZZZZZ.__wZ()){this.________b();this.g(!this.___gZZZZ.g.__wZ());}});this.___yZZZ.___DZZZ.kZZ._zZZ(this,function(){if(this._hZZZZZZ.__wZ()){if(this.__FZZZZZ){this.________c();}
else{this.________d();this.________b();}}});this.___yZZZ.___EZZZ.kZZ._zZZ(this,function(){if(this._hZZZZZZ.__wZ()){this.________e();}});this.___yZZZ.___BZZZ.kZZ._zZZ(this,function(){this.OZZZZZZZ();});if(this.challenge_type===DZ){var time="untimed";if(this.___vZZ.__wZ()!==__N){time=_____Z.____$Z(this.___vZZ.__wZ(),this.___tZZ.__wZ(),this.___uZZ.__wZ());}
var ________f="New "+time;this.___yZZZ.___FZZZ.Text.BZZ(________f);this.___yZZZ.___zZZZ.DZZ();this.___yZZZ.___FZZZ.kZZ._zZZ(this,function(){if(this.__EZZZZZ!==null&&this.__EZZZZZ.yZZZZZZ.__wZ()){this.__EZZZZZ._bZZZ();}
else{if(this.__DZZZZZ!==null){this.__EZZZZZ=new ___aZZZ(this.__DZZZZZ.___hZZ,this.__DZZZZZ.___tZZ,this.__DZZZZZ.___uZZ,this.__DZZZZZ.AZZZZZZ,this.__DZZZZZ.BZZZZZZ,this.__DZZZZZ.___GZZ,this.__DZZZZZ.CZZZZZZ,this.__DZZZZZ.DZZZZZZ);}
else{this.__EZZZZZ=new ___aZZZ(this.variant,this.timing_initial,this.timing_increment,"-200","+200",this.rated,false);}
this.__EZZZZZ.wZZZZZZ._zZZ(this,function(data,sender){this.___yZZZ.___FZZZ.Text.BZZ(________f);if(data.VZZZZZZ===___aZZZ.________g){this.__LZZZZZ.t({sZZ:data.___bZZZZ,___aZZZ:sender});}
else if(data.VZZZZZZ===___aZZZ.WZZZZZZ){this.___yZZZ.___FZZZ.Text.BZZ("No opponents found");setTimeout(function(){self.___yZZZ.___FZZZ.Text.BZZ(________f);},800);}});this.___yZZZ.___FZZZ.Text.BZZ("<img src=\"/img/loading.gif\"> Cancel");this.__EZZZZZ.Submit();}});}
else{this.___yZZZ.___CZZZ.DZZ();}}
__sZZZZZ.prototype.________d=function(){if(!this.__FZZZZZ){this.__FZZZZZ=true;this._wZZZZZZ();____v.____T(G("/xhr/rematch.php"),function(____x){if(____x===false){this.__FZZZZZ=false;this._wZZZZZZ();}},{"table":this.sZZ},this);}}
__sZZZZZ.prototype.________c=function(){if(this.__FZZZZZ){this.__FZZZZZ=false;this._wZZZZZZ();____v.____T(G("/xhr/rematch_cancel.php"),function(____x){if(____x===false){this.__FZZZZZ=true;this._wZZZZZZ();}},{"table":this.sZZ});}}
__sZZZZZ.prototype.________e=function(){this.__FZZZZZ=false;this.__GZZZZZ=false;this._wZZZZZZ();____v.____X(G("/xhr/rematch_decline.php"),{"table":this.sZZ},this);}
__sZZZZZ.prototype._vZZZZZZ=function(){if(this.AZZZZZZZ!==null){this.AZZZZZZZ.___B.BZZ(this.___gZZZZ!==null);}}
__sZZZZZ.prototype._wZZZZZZ=function(){var ________h=(!this.game_in_progress);if(this._hZZZZZZ.__wZ()){this.___yZZZ.___DZZZ.HZZ.BZZ(this.__yZZZZZ[this.___gZZZZ.___UZ][_$ZZZ._RZZZ(this.___gZZZZ.___VZ)].__pZZ.__wZ()!==null);}
else{this.___yZZZ.___DZZZ.HZZ.BZZ(false);}
this.___yZZZ.___DZZZ.___B.BZZ(________h);this.___yZZZ.___EZZZ.HZZ.BZZ(________h&&this.__GZZZZZ);this.___yZZZ.___DZZZ.Text.BZZ((________h&&this.__FZZZZZ?"Cancel":"Rematch"));}
__sZZZZZ.prototype.________i=function(sender){this._IZZZZZZ.____OZZ("<b>"+sender+" has declined a rematch.</b>");}
__sZZZZZ.prototype.________j=function(sender){this._IZZZZZZ.____OZZ("<b>"+sender+" has cancelled their rematch offer.</b>");}
__sZZZZZ.prototype.________k=function(sender){if(this.__xZZZZZ[sender]){this._IZZZZZZ.____OZZ("<b>"+sender+" has connected.</b>");this.__xZZZZZ[sender]=false;if(this.__HZZZZZ!==null){clearTimeout(this.__HZZZZZ);}
this._AZZZZZZ._BZZZZZZ.__PZZZZZ.__WZZ.___dZZZ.DZZ();}}
__sZZZZZ.prototype.________l=function(sender){if(!this.__xZZZZZ[sender]){var self=this;var ________m=this.__yZZZZZ[this.___gZZZZ.___UZ][_$ZZZ._RZZZ(this.___gZZZZ.___VZ)].__pZZ.__wZ();this._IZZZZZZ.____OZZ("<b>"+sender+" has disconnected.</b>");this.__xZZZZZ[sender]=true;if(this.game_in_progress&&this.timing_initial<=_____SZ&&this._hZZZZZZ.__wZ()&&sender===________m){this.__HZZZZZ=setTimeout(function(){self.________n();self.__HZZZZZ=null;},_____RZ*u);}}}
__sZZZZZ.prototype.________o=function(sender,body){this.AZZZZZZZ.____OZZ("<b>"+sender+":</b> "+body);}
__sZZZZZ.prototype.________n=function(){if(this.game_in_progress&&this._hZZZZZZ.__wZ()){this._AZZZZZZ._BZZZZZZ.__PZZZZZ.__WZZ.___dZZZ.EZZ();}}
__sZZZZZ.prototype.BZZZZZZZ=function(){if(this.game_in_progress&&this._hZZZZZZ.__wZ()){this._AZZZZZZ._BZZZZZZ.__PZZZZZ.__WZZ.___dZZZ.DZZ();____v.____X(G("/xhr/force_resignation.php"),{"gid":this.__CZZZZZ.___eZZZZ});}}
__sZZZZZ.prototype.________b=function(){for(var _jZZZZZZ in this.__OZZZZZ){this._AZZZZZZ._BZZZZZZ[_jZZZZZZ].__WZZ.___vZZZ.DZZ();}}
__sZZZZZ.prototype._EZZZZZZ=function(){for(var _jZZZZZZ in this._AZZZZZZ.sZZZZZZZ){for(var vZZZZZZZ in this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ]){this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][vZZZZZZZ]._DZZZZZ._UZZZZZ(this.type,this.variant,______w.______C(this.timing_style,this.timing_initial,this.timing_increment,this.timing_overtime,this.timing_overtime_increment,this.timing_overtime_cutoff));}}}
__sZZZZZ.prototype._DZZZZZZ=function(){for(var _jZZZZZZ in this._AZZZZZZ.sZZZZZZZ){for(var ________p in this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ]){if(this.timing_style===__N){this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][________p]._fZZZZZ.DZZ();}
else{this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][________p]._fZZZZZ.EZZ();}}}}
__sZZZZZ.prototype._qZZZZZZ=function(){var FZZZZZ;for(var gid in this.__zZZZZZ){FZZZZZ=this.__zZZZZZ[gid];FZZZZZ.___MZZ.BZZ(__TZZ.___KZZ);if(this.___gZZZZ!==null){if(this.___gZZZZ.___UZ===FZZZZZ.___UZ){FZZZZZ.___MZZ.BZZ(__TZZ.___JZZ);FZZZZZ.___LZZ.BZZ(this.___gZZZZ.___VZ);}}}}
__sZZZZZ.prototype._zZZZZZZ=function(){if(this._yZZZ&&!this.game_in_progress){for(var _jZZZZZZ in this._AZZZZZZ.sZZZZZZZ){for(var ________p in this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ]){this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ][________p]._fZZZZZ._____U.BZZ(this.timing_initial*u);}}}}
__sZZZZZ.prototype.________q=function(){var _qZZZZZ=false;var time,title;var qZZ=_bZ[jZ][this.___hZZ.__wZ()]._fZ;if(this.type===XZ){qZZ=_bZ[iZ][this.type]._fZ+" "+qZZ;if(this.game_in_progress){var FZZZZZ,________r;if(this.__CZZZZZ!==null){FZZZZZ=this.__CZZZZZ;qZZ=FZZZZZ.___cZZ+" vs. "+FZZZZZ.___dZZ;if(FZZZZZ.___jZZ in this.__zZZZZZ){________r=this.__zZZZZZ[FZZZZZ.___jZZ];qZZ+="; "+________r.___cZZ+" vs. "+________r.___dZZ;}}}}
else{if(this.___gZZZZ===null){if(this.__CZZZZZ!==null){qZZ=this.__CZZZZZ.___cZZ+" vs. "+this.__CZZZZZ.___dZZ;}}
else{if(this.__sZZZZ.__wZ()){var ________s=this._AZZZZZZ.sZZZZZZZ.__PZZZZZ._______H._DZZZZZ;if(________s.__pZZ.__wZ()!==null){qZZ=________s.__pZZ.__wZ();}}}}
if(this.timing_style!==__N){_qZZZZZ=true;if(this._gZZZZZZ.__wZ()&&this.___gZZZZ!==null){time=this._AZZZZZZ.sZZZZZZZ.__PZZZZZ.__PZZZZZ._fZZZZZ._BZZZZZ.__wZ();}
else{time=_____Z.____$Z(this.timing_style,this.timing_initial,this.timing_increment,this.timing_overtime_cutoff);}}
title=qZZ;if(_qZZZZZ){title+=" "+time;}
if(this.__CZZZZZ!==null&&this.__CZZZZZ.___eZZ===UZ&&this.type!==XZ){title+=" ("+___lZZ.String[this.__CZZZZZ.___lZZ]+")";}
return title;}
__sZZZZZ.prototype.ZZZZZZZZ=function(FZZZZZ){if(FZZZZZ.___DZZ!==null){if(this._yZZZ){if(!this.__vZZZZZ[FZZZZZ.___eZZZZ]){if(FZZZZZ===this.__CZZZZZ&&this._hZZZZZZ.__wZ()){if(FZZZZZ.__YZZ.__ZZZ===this.___gZZZZ.___VZ){var _HZZZZZZ=this.__yZZZZZ[this.___gZZZZ.___UZ][_$ZZZ._RZZZ(this.___gZZZZ.___VZ)];this._IZZZZZZ.____OZZ("<b>"+_HZZZZZZ.__pZZ.__wZ()+" has offered you a draw.</b>");}}
else{var ________t=[FZZZZZ.___cZZ,FZZZZZ.___dZZ];this._IZZZZZZ.____OZZ(________t[_$ZZZ._RZZZ(FZZZZZ.__YZZ.__ZZZ)]," has offered ",________t[FZZZZZ.__YZZ.__ZZZ]," a draw.");}
this.__vZZZZZ[FZZZZZ.___eZZZZ]=true;}}}
this._uZZZZZZ();}
__sZZZZZ.prototype.MZZZZZZZ=function(){if(this.type===XZ&&this.__uZZZZZ){var game_id,______K,colour,_RZZZ,________u,zZZZZZZZ;for(var _jZZZZZZ in this._AZZZZZZ.sZZZZZZZ){for(var vZZZZZZZ in this._AZZZZZZ.sZZZZZZZ[_jZZZZZZ]){game_id=this.__OZZZZZ[_jZZZZZZ];colour=this.__VZZZZZ[game_id][vZZZZZZZ];______K=_$ZZZ.______K(game_id);_RZZZ=_$ZZZ._RZZZ(colour);________u=this._rZZZZZZ._sZZZZZZ[game_id][colour]._____UZ;________u.aZ();________u.___VZ.BZZ(colour);this.__AZZZZZ[game_id].___OZZZZ(________u,colour);this.__AZZZZZ[______K].___LZZZZ(________u,colour);}}}}
__sZZZZZ.prototype._oZZZZZZ=function(){if(this._hZZZZZZ.__wZ()&&this.___gZZZZ.g.__wZ()&&!this.game_in_progress){this.___yZZZ.___AZZZ.Text.BZZ("Cancel");}
else{this.___yZZZ.___AZZZ.Text.BZZ("Ready");}}
__sZZZZZ.prototype._wZZZ=function(FZZZZZ){this.__WZZZZZ();this.YZZZZZZZ();if(FZZZZZ.___mZZ!==__w){var ________v=FZZZZZ.__WZZ.___vZZZ;________v.EZZ();________v.___m(FZZZZZ);}
if(this.challenge_type===DZ){this.owner_rematch_ready=false;this.guest_rematch_ready=false;this.__FZZZZZ=false;this.__GZZZZZ=false;this._wZZZZZZ();}
else if(this.challenge_type===CZ){if(this._hZZZZZZ.__wZ()){this.___gZZZZ.g.BZZ(false);this._oZZZZZZ();}}
this.___m.t();}
__sZZZZZ.prototype.________w=function(){this.__BZZZZZ=false;____v.____T(G("/xhr/leave.php"),function(){this.___m.t();},{"table":this.sZZ},this);}
__sZZZZZ.prototype.__jZZ=function(){this._DZZ();for(var gid in this.__zZZZZZ){this.__zZZZZZ[gid].__jZZ();}
var _____c=[_____d,kZZZZ];for(var game_id=0;game_id<this.__yZZZZZ.length;game_id++){for(var _____h=0;_____h<_____c.length;_____h++){colour=_____c[_____h];this.__yZZZZZ[game_id][colour].__jZZ();}}
if(this._yZZZ){this._________.__jZZ();}
this._FZZZ.t();}